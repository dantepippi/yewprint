<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `main` attr in crate `wasm_run`."><meta name="keywords" content="rust, rustlang, rust-lang, main"><title>wasm_run::main - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc attr"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../wasm_run/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><div class="sidebar-elems"><p class="location"><a href="index.html">wasm_run</a></p><div id="sidebar-vars" data-name="main" data-ty="attr" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu"><img src="../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><script src="../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" class="help-button">?</button>
                <a id="settings-menu" href="../settings.html"><img src="../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Attribute Macro <a href="index.html">wasm_run</a>::<wbr><a class="attr" href="">main</a></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/wasm_run_proc_macro/lib.rs.html#262" title="goto source code">[src]</a></span></h1><pre class="rust attr">#[main]</pre><div class="docblock"><p>Makes an entrypoint to your binary (not WASM).</p>
<p>It requires to be used with <code>structopt</code> on an <code>enum</code>. Please consult the documentation of
<code>structopt</code> if you don't know how to make an <code>enum</code> with it.</p>
<p>By default it provides a command <code>Build</code> and a command <code>Serve</code> which you can override simply by
providing them manually. Otherwise it uses the defaults (<code>DefaultBuildArgs</code> and
<code>DefaultServeArgs</code>).</p>
<p>There are a number of named arguments you can provide to the macro:</p>
<ul>
<li><code>other_cli_commands</code>: a function that is called if you have added new commands to the
<code>enum</code>;</li>
<li><code>pre_build</code>: a function that is called when the build has not yet started (you can tweak
the command-line arguments of the build command);</li>
<li><code>post_build</code>: a function that is called when the build is finished (after the optimization
with <code>wasm-opt</code>);</li>
<li><code>watch</code>: a function that is called when the watcher is being initialized (allowing you to
add extra things to watch for example);</li>
<li><code>serve</code>: (only if built with the <code>serve</code> feature): a function that is called when the HTTP
serve is getting configured;</li>
<li><code>run_server</code>: (only if built <em>without</em> the <code>serve</code> feature): a function that is called to
run the HTTP server;</li>
<li><code>default_build_path</code>: a function that is called that provides the default directory path
when the user didn't provide it through the command-line arguments (the default is
<code>workspace root/build</code>).</li>
</ul>
<p>You can also change the package that is built by providing its name in the first positional
argument:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="attribute">#[<span class="ident">wasm_run</span>::<span class="ident">main</span>(<span class="string">&quot;my-frontend-crate&quot;</span>)]</span></pre></div>
<h1 id="example" class="section-header"><a href="#example">Example</a></h1>
<p>Please note that all the code showed here is mostly the actual code for the default hooks.
This means that if you don't provide your own hook, this code will be executed. But if you do
provide a hook, the code will be <em>replaced</em>.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">anyhow</span>::{<span class="ident">Context</span>, <span class="prelude-ty">Result</span>};      <span class="comment">// anyhow is provided by `wasm_run::prelude::*`</span>
<span class="kw">use</span> <span class="ident">fs_extra</span>::<span class="ident">dir</span>;                  <span class="comment">// fs_extra is provided by `wasm_run::prelude::*`</span>
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">fs</span>;
<span class="kw">use</span> <span class="ident">std</span>::<span class="ident">path</span>::<span class="ident">PathBuf</span>;
<span class="kw">use</span> <span class="ident">structopt</span>::<span class="ident">StructOpt</span>;           <span class="comment">// due to limitation, this does *not* come from the prelude</span>
<span class="kw">use</span> <span class="ident">wasm_run</span>::<span class="ident">prelude</span>::<span class="kw-2">*</span>;

<span class="kw">const</span> <span class="ident">DEFAULT_INDEX</span>: <span class="kw-2">&amp;</span><span class="ident">str</span> <span class="op">=</span> <span class="string">r#&quot;&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;/&gt;&lt;script type=&quot;module&quot;&gt;import init from &quot;/app.js&quot;;init();&lt;/script&gt;&lt;/head&gt;&lt;body&gt;&lt;/body&gt;&lt;/html&gt;&quot;#</span>;

<span class="doccomment">/// Makes an entrypoint to your binary.</span>
<span class="attribute">#[<span class="ident">wasm_run</span>::<span class="ident">main</span>(
    <span class="string">&quot;basic&quot;</span>,
    <span class="ident">build_args</span> <span class="op">=</span> <span class="ident">BuildCommand</span>,
    <span class="ident">serve_args</span> <span class="op">=</span> <span class="ident">ServeCommand</span>,
    <span class="ident">other_cli_commands</span> <span class="op">=</span> <span class="ident">run_other_cli_commands</span>,
    <span class="ident">pre_build</span> <span class="op">=</span> <span class="ident">pre_build</span>,
    <span class="ident">post_build</span> <span class="op">=</span> <span class="ident">post_build</span>,
    <span class="ident">serve</span> <span class="op">=</span> <span class="ident">serve</span>,
    <span class="ident">watch</span> <span class="op">=</span> <span class="ident">watch</span>,
    <span class="ident">default_build_path</span> <span class="op">=</span> <span class="ident">default_build_path</span>,
)]</span>
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">StructOpt</span>, <span class="ident">Debug</span>)]</span>
<span class="kw">enum</span> <span class="ident">Cli</span> {
    <span class="ident">Hello</span>,
}

<span class="doccomment">/// Define a custom `build` command.</span>
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">StructOpt</span>, <span class="ident">Debug</span>)]</span>
<span class="kw">struct</span> <span class="ident">BuildCommand</span> {
    <span class="attribute">#[<span class="ident">structopt</span>(<span class="ident">skip</span>)]</span>
    <span class="ident">i</span>: <span class="ident">i32</span>,
}

<span class="kw">impl</span> <span class="ident">BuildArgs</span> <span class="kw">for</span> <span class="ident">BuildCommand</span> {
    <span class="kw">fn</span> <span class="ident">build_path</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">PathBuf</span> {
        <span class="self">self</span>.<span class="ident">default_build_path</span>()
    }

    <span class="kw">fn</span> <span class="ident">profiling</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> {
        <span class="bool-val">false</span>
    }
}

<span class="doccomment">/// Define a custom `serve` command.</span>
<span class="attribute">#[<span class="ident">derive</span>(<span class="ident">StructOpt</span>, <span class="ident">Debug</span>)]</span>
<span class="kw">struct</span> <span class="ident">ServeCommand</span> {
    <span class="attribute">#[<span class="ident">structopt</span>(<span class="ident">flatten</span>)]</span>
    <span class="ident">build_args</span>: <span class="ident">BuildCommand</span>,

    <span class="attribute">#[<span class="ident">structopt</span>(<span class="ident">skip</span>)]</span>
    <span class="ident">j</span>: <span class="ident">i32</span>,
}

<span class="kw">impl</span> <span class="ident">ServeArgs</span> <span class="kw">for</span> <span class="ident">ServeCommand</span> {
    <span class="kw">fn</span> <span class="ident">build_args</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="kw">dyn</span> <span class="ident">BuildArgs</span> {
        <span class="kw-2">&amp;</span><span class="self">self</span>.<span class="ident">build_args</span>
    }

    <span class="kw">fn</span> <span class="ident">log</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">bool</span> {
        <span class="bool-val">false</span>
    }

    <span class="kw">fn</span> <span class="ident">ip</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="kw-2">&amp;</span><span class="ident">str</span> {
        <span class="string">&quot;127.0.0.1&quot;</span>
    }

    <span class="kw">fn</span> <span class="ident">port</span>(<span class="kw-2">&amp;</span><span class="self">self</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">u16</span> {
        <span class="number">3000</span>
    }
}

<span class="doccomment">/// This function is called if you have added new commands to the enum.</span>
<span class="kw">fn</span> <span class="ident">run_other_cli_commands</span>(<span class="ident">cli</span>: <span class="ident">Cli</span>, <span class="ident">_metadata</span>: <span class="kw-2">&amp;</span><span class="ident">Metadata</span>, <span class="ident">_package</span>: <span class="kw-2">&amp;</span><span class="ident">Package</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">match</span> <span class="ident">cli</span> {
        <span class="ident">Cli</span>::<span class="ident">Hello</span> <span class="op">=</span><span class="op">&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;Hello World!&quot;</span>),
    }

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// This function is called after the build.</span>
<span class="kw">fn</span> <span class="ident">pre_build</span>(
    <span class="ident">args</span>: <span class="kw-2">&amp;</span><span class="ident">BuildCommand</span>,
    <span class="ident">profile</span>: <span class="ident">BuildProfile</span>,
    <span class="ident">command</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">std</span>::<span class="ident">process</span>::<span class="ident">Command</span>,
) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">_i</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">i</span>;

    <span class="comment">// NOTE: this is an example, this hook has no default code.</span>
    <span class="ident">command</span>
        .<span class="ident">arg</span>(<span class="string">&quot;--no-default-features&quot;</span>)
        .<span class="ident">env</span>(<span class="string">&quot;RUSTFLAGS&quot;</span>, <span class="string">&quot;-Zmacro-backtrace&quot;</span>);

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// This function is called after the build.</span>
<span class="kw">fn</span> <span class="ident">post_build</span>(
    <span class="ident">args</span>: <span class="kw-2">&amp;</span><span class="ident">BuildCommand</span>,
    <span class="ident">_profile</span>: <span class="ident">BuildProfile</span>,
    <span class="ident">wasm_js</span>: <span class="ident">String</span>,
    <span class="ident">wasm_bin</span>: <span class="ident">Vec</span><span class="op">&lt;</span><span class="ident">u8</span><span class="op">&gt;</span>,
) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">build_path</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">build_path</span>();
    <span class="kw">let</span> <span class="ident">wasm_js_path</span> <span class="op">=</span> <span class="ident">build_path</span>.<span class="ident">join</span>(<span class="string">&quot;app.js&quot;</span>);
    <span class="kw">let</span> <span class="ident">wasm_bin_path</span> <span class="op">=</span> <span class="ident">build_path</span>.<span class="ident">join</span>(<span class="string">&quot;app_bg.wasm&quot;</span>);

    <span class="ident">fs</span>::<span class="ident">write</span>(<span class="kw-2">&amp;</span><span class="ident">wasm_js_path</span>, <span class="ident">wasm_js</span>).<span class="ident">with_context</span>(<span class="op">|</span><span class="op">|</span> {
        <span class="macro">format</span><span class="macro">!</span>(<span class="string">&quot;could not write JS file to `{}`&quot;</span>, <span class="ident">wasm_js_path</span>.<span class="ident">display</span>())
    })<span class="question-mark">?</span>;
    <span class="ident">fs</span>::<span class="ident">write</span>(<span class="kw-2">&amp;</span><span class="ident">wasm_bin_path</span>, <span class="ident">wasm_bin</span>).<span class="ident">with_context</span>(<span class="op">|</span><span class="op">|</span> {
        <span class="macro">format</span><span class="macro">!</span>(<span class="string">&quot;could not write WASM file to `{}`&quot;</span>, <span class="ident">wasm_bin_path</span>.<span class="ident">display</span>())
    })<span class="question-mark">?</span>;

    <span class="kw">let</span> <span class="ident">index_path</span> <span class="op">=</span> <span class="ident">build_path</span>.<span class="ident">join</span>(<span class="string">&quot;index.html&quot;</span>);
    <span class="kw">let</span> <span class="ident">static_dir</span> <span class="op">=</span> <span class="ident">args</span>
        .<span class="ident">package</span>()
        .<span class="ident">manifest_path</span>
        .<span class="ident">parent</span>()
        .<span class="ident">unwrap</span>()
        .<span class="ident">join</span>(<span class="string">&quot;static&quot;</span>);

    <span class="kw">if</span> <span class="ident">index_path</span>.<span class="ident">exists</span>() {
        <span class="ident">fs</span>::<span class="ident">copy</span>(<span class="string">&quot;index.html&quot;</span>, <span class="kw-2">&amp;</span><span class="ident">index_path</span>).<span class="ident">context</span>(<span class="macro">format</span><span class="macro">!</span>(
            <span class="string">&quot;could not copy index.html to `{}`&quot;</span>,
            <span class="ident">index_path</span>.<span class="ident">display</span>()
        ))<span class="question-mark">?</span>;
    } <span class="kw">else</span> <span class="kw">if</span> <span class="ident">static_dir</span>.<span class="ident">exists</span>() {
        <span class="ident">dir</span>::<span class="ident">copy</span>(
            <span class="kw-2">&amp;</span><span class="ident">static_dir</span>,
            <span class="kw-2">&amp;</span><span class="ident">build_path</span>,
            <span class="kw-2">&amp;</span><span class="ident">dir</span>::<span class="ident">CopyOptions</span> {
                <span class="ident">content_only</span>: <span class="bool-val">true</span>,
                ..<span class="ident">dir</span>::<span class="ident">CopyOptions</span>::<span class="ident">new</span>()
            },
        )
        .<span class="ident">with_context</span>(<span class="op">|</span><span class="op">|</span> {
            <span class="macro">format</span><span class="macro">!</span>(
                <span class="string">&quot;could not copy content of directory static: `{}` to `{}`&quot;</span>,
                <span class="ident">static_dir</span>.<span class="ident">display</span>(),
                <span class="ident">build_path</span>.<span class="ident">display</span>()
            )
        })<span class="question-mark">?</span>;
    } <span class="kw">else</span> {
        <span class="ident">fs</span>::<span class="ident">write</span>(<span class="kw-2">&amp;</span><span class="ident">index_path</span>, <span class="ident">DEFAULT_INDEX</span>).<span class="ident">with_context</span>(<span class="op">|</span><span class="op">|</span> {
            <span class="macro">format</span><span class="macro">!</span>(
                <span class="string">&quot;could not write default index.html to `{}`&quot;</span>,
                <span class="ident">index_path</span>.<span class="ident">display</span>()
            )
        })<span class="question-mark">?</span>;
    }

    <span class="attribute">#[<span class="ident">cfg</span>(<span class="ident">feature</span> <span class="op">=</span> <span class="string">&quot;sass&quot;</span>)]</span>
    {
        <span class="kw">let</span> <span class="ident">options</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">sass_options</span>(<span class="ident">profile</span>);
        <span class="kw">for</span> <span class="ident">style_path</span> <span class="kw">in</span> <span class="ident">args</span>.<span class="ident">sass_lookup_directories</span>() {
            <span class="ident">args</span>.<span class="ident">build_sass_from_dir</span>(<span class="kw-2">&amp;</span><span class="ident">style_path</span>, <span class="ident">options</span>.<span class="ident">clone</span>())<span class="question-mark">?</span>;
        }
    }

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// This function is called before serving files.</span>
<span class="kw">fn</span> <span class="ident">serve</span>(<span class="ident">args</span>: <span class="kw-2">&amp;</span><span class="ident">ServeCommand</span>, <span class="ident">server</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">Server</span><span class="op">&lt;</span>()<span class="op">&gt;</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">_j</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">j</span>;

    <span class="kw">use</span> <span class="ident">tide</span>::{<span class="ident">Body</span>, <span class="ident">Response</span>};

    <span class="kw">let</span> <span class="ident">build_path</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">build_args</span>().<span class="ident">build_path</span>();
    <span class="kw">let</span> <span class="ident">index_path</span> <span class="op">=</span> <span class="ident">build_path</span>.<span class="ident">join</span>(<span class="string">&quot;index.html&quot;</span>);

    <span class="ident">server</span>.<span class="ident">at</span>(<span class="string">&quot;/&quot;</span>).<span class="ident">serve_dir</span>(<span class="ident">args</span>.<span class="ident">build_args</span>().<span class="ident">build_path</span>())<span class="question-mark">?</span>;
    <span class="ident">server</span>.<span class="ident">at</span>(<span class="string">&quot;/&quot;</span>).<span class="ident">get</span>(<span class="kw">move</span> <span class="op">|</span><span class="kw">_</span><span class="op">|</span> {
        <span class="kw">let</span> <span class="ident">index_path</span> <span class="op">=</span> <span class="ident">index_path</span>.<span class="ident">clone</span>();
        <span class="kw">async</span> <span class="kw">move</span> { <span class="prelude-val">Ok</span>(<span class="ident">Response</span>::<span class="ident">from</span>(<span class="ident">Body</span>::<span class="ident">from_file</span>(<span class="ident">index_path</span>).<span class="kw">await</span><span class="question-mark">?</span>)) }
    });

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// This function is called when the watcher is being initialized.</span>
<span class="kw">fn</span> <span class="ident">watch</span>(<span class="ident">args</span>: <span class="kw-2">&amp;</span><span class="ident">ServeCommand</span>, <span class="ident">watcher</span>: <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">RecommendedWatcher</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">_j</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">j</span>;

    <span class="kw">use</span> <span class="ident">notify</span>::{<span class="ident">RecursiveMode</span>, <span class="ident">Watcher</span>};
    <span class="kw">use</span> <span class="ident">std</span>::<span class="ident">collections</span>::<span class="ident">HashSet</span>;
    <span class="kw">use</span> <span class="ident">std</span>::<span class="ident">iter</span>::<span class="ident">FromIterator</span>;

    <span class="kw">let</span> <span class="ident">metadata</span> <span class="op">=</span> <span class="ident">args</span>.<span class="ident">build_args</span>().<span class="ident">metadata</span>();

    <span class="kw">let</span> <span class="kw">_</span> <span class="op">=</span> <span class="ident">watcher</span>.<span class="ident">watch</span>(<span class="string">&quot;index.html&quot;</span>, <span class="ident">RecursiveMode</span>::<span class="ident">Recursive</span>);

    <span class="kw">let</span> <span class="ident">members</span>: <span class="ident">HashSet</span><span class="op">&lt;</span><span class="kw">_</span><span class="op">&gt;</span> <span class="op">=</span> <span class="ident">HashSet</span>::<span class="ident">from_iter</span>(<span class="kw-2">&amp;</span><span class="ident">metadata</span>.<span class="ident">workspace_members</span>);

    <span class="kw">for</span> <span class="ident">package</span> <span class="kw">in</span> <span class="ident">metadata</span>.<span class="ident">packages</span>.<span class="ident">iter</span>().<span class="ident">filter</span>(<span class="op">|</span><span class="ident">x</span><span class="op">|</span> <span class="ident">members</span>.<span class="ident">contains</span>(<span class="kw-2">&amp;</span><span class="ident">x</span>.<span class="ident">id</span>)) {
        <span class="kw">let</span> <span class="kw">_</span> <span class="op">=</span> <span class="ident">watcher</span>.<span class="ident">watch</span>(<span class="kw-2">&amp;</span><span class="ident">package</span>.<span class="ident">manifest_path</span>, <span class="ident">RecursiveMode</span>::<span class="ident">Recursive</span>);
        <span class="kw">let</span> <span class="kw">_</span> <span class="op">=</span> <span class="ident">watcher</span>.<span class="ident">watch</span>(
            <span class="ident">package</span>.<span class="ident">manifest_path</span>.<span class="ident">parent</span>().<span class="ident">unwrap</span>().<span class="ident">join</span>(<span class="string">&quot;src&quot;</span>),
            <span class="ident">RecursiveMode</span>::<span class="ident">Recursive</span>,
        );
    }

    <span class="prelude-val">Ok</span>(())
}

<span class="doccomment">/// Define another build path if not provided by the user in the command-line arguments.</span>
<span class="kw">fn</span> <span class="ident">default_build_path</span>(<span class="ident">metadata</span>: <span class="kw-2">&amp;</span><span class="ident">Metadata</span>, <span class="ident">_package</span>: <span class="kw-2">&amp;</span><span class="ident">Package</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">PathBuf</span> {
    <span class="ident">metadata</span>.<span class="ident">workspace_root</span>.<span class="ident">join</span>(<span class="string">&quot;build&quot;</span>)
}</pre></div>
</div></section><section id="search" class="content hidden"></section><section class="footer"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="wasm_run"></div>
    <script src="../main.js"></script><script defer src="../search-index.js"></script></body></html>